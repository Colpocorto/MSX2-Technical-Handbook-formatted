<h1 id="appendix-4---work-area-listing">APPENDIX 4 - WORK AREA
LISTING</h1>
<p>
 
</p>
<h2 id="index">Index</h2>
<p><a
href="#subroutines-for-readwrite-calls-of-the-inter-slot">Subroutines
for read/write calls of the inter-slot</a></p>
<p><a
href="#starting-address-of-assembly-language-program-of-usr-function-text-screen">Starting
address of assembly language program of USR function, text
screen</a></p>
<p><a href="#work-for-initialisation">Work for initialisation</a></p>
<p><a href="#area-to-save-vdp-registers">Area to save VDP
registers</a></p>
<p><a href="#work-area-for-play-statement">Work area for PLAY
statement</a></p>
<p><a href="#work-area-for-key-input">Work area for key input</a></p>
<p><a href="#parameters-for-cassette">Parameters for Cassette</a></p>
<p><a href="#work-used-by-basic-internally">Work used by BASIC
internally</a></p>
<p><a href="#work-for-user-function-parameter">Work for user function
parameter</a></p>
<p><a href="#work-for-math-pack">Work for Math-Pack</a></p>
<p><a href="#data-area-used-by-basic-interpreter">Data area used by
BASIC interpreter</a></p>
<p><a href="#data-area-used-by-circle-statement">Data area used by
CIRCLE statement</a></p>
<p><a href="#data-area-used-in-paint-statement">Data area used in PAINT
statement</a></p>
<p><a href="#data-area-used-in-play-statement">Data area used in PLAY
statement</a></p>
<p><a href="#work-area-added-in-msx2">Work area added in MSX2</a></p>
<p><a href="#data-area-used-by-rs-232c">Data area used by
RS-232C</a></p>
<p><a href="#data-area-used-by-dos">Data area used by DOS</a></p>
<p><a href="#data-area-used-by-play-statement">Data area used by PLAY
statement</a></p>
<p><a href="#data-area">Data area</a></p>
<p><a href="#hooks">Hooks</a></p>
<p><a href="#changes-from-the-original">Changes from the
original</a></p>
<p>
 
</p>
<p><a href="#figure-a.5-work-area">Figure A.5</a> shows the map of the
MSX2 work area. In this section, the system work area and hook from
F380H to FFCAH in the figure are described. The following notation is
used. Length is in bytes.</p>
<p><strong>Label name (address, length)</strong></p>
<ul>
<li>Initial value, contents, purpose</li>
</ul>
<h5 id="figure-a.5-work-area"><em>Figure A.5 Work area</em></h5>
<pre><code>FFFF    ---------------------------
        | slot selection register |
FFFC    |-------------------------|
        |         reserved        |
FFF8    |-------------------------|
FFF7    |  MAIN-ROM slot address  |
        |-------------------------|
        |  register reservation   |
        |      area for new       |
FFE7    |       VDP (9938)        |
        |-------------------------|
        |       program for       |
FFCA    |  expansion BIOS calls   |
        |-------------------------|
        |                         |
        |       hook area         |
FD9A    |                         |
        |-------------------------|
        |                         |
        |    system work area     |
F380    |                         |
        ---------------------------</code></pre>
<p>
 
</p>
<h2 id="subroutines-for-readwrite-calls-of-the-inter-slot">Subroutines
for read/write calls of the inter-slot</h2>
<h4 id="rdprim-f380h-5">RDPRIM (F380H, 5)</h4>
<ul>
<li><strong>contents</strong>: read from basic slot</li>
</ul>
<h4 id="wrprim-f385h-7">WRPRIM (F385H, 7)</h4>
<ul>
<li><strong>contents</strong>: write to basic slot</li>
</ul>
<h4 id="clprim-f38ch-14">CLPRIM (F38CH, 14)</h4>
<ul>
<li><strong>contents</strong>: basic slot call</li>
</ul>
<p>
 
</p>
<h2
id="starting-address-of-assembly-language-program-of-usr-function-text-screen">Starting
address of assembly language program of USR function, text screen</h2>
<h4 id="usrtab-f39ah-20">USRTAB (F39AH, 20)</h4>
<ul>
<li><strong>initial value</strong>: FCERR</li>
<li><strong>contents</strong>: starting address of assembly language
program of USR function (0 to 9); the value before defining assembly
language program points to FCERR (475AH).</li>
</ul>
<h4 id="linl40-f3aeh-1">LINL40 (F3AEH, 1)</h4>
<ul>
<li><strong>initial value</strong>: 39</li>
<li><strong>contents</strong>: screen width per line at SCREEN 0 (set by
WIDTH statement at SCREEN 0)</li>
</ul>
<h4 id="linl32-f3afh-1">LINL32 (F3AFH, 1)</h4>
<ul>
<li><strong>initial value</strong>: 32</li>
<li><strong>contents</strong>: screen width per line at SCREEN 1 (set by
WIDTH statement at SCREEN 1)</li>
</ul>
<h4 id="linlen-f3b0h-1">LINLEN (F3B0H, 1)</h4>
<ul>
<li><strong>initial value</strong>: 29</li>
<li><strong>contents</strong>: current screen width per line</li>
</ul>
<h4 id="crtcnt-f3b1h-1">CRTCNT (F3B1H, 1)</h4>
<ul>
<li><strong>initial value</strong>: 24</li>
<li><strong>contents</strong>: number of lines of current screen</li>
</ul>
<h4 id="clmlst-f3b2h-1">CLMLST (F3B2H, 1)</h4>
<ul>
<li><strong>initial value</strong>: 14</li>
<li><strong>contents</strong>: horizontal location in the case that
items are divided by commas in PRINT statement</li>
</ul>
<p>
 
</p>
<h2 id="work-for-initialisation">Work for initialisation</h2>
<h3 id="screen-0">SCREEN 0</h3>
<h4 id="txtnam-f3b3h-2">TXTNAM (F3B3H, 2)</h4>
<ul>
<li><strong>initial value</strong>: 0000H</li>
<li><strong>contents</strong>: pattern name table</li>
</ul>
<h4 id="txtcol-f3b5h-2">TXTCOL (F3B5H, 2)</h4>
<ul>
<li><strong>contents</strong>: unused</li>
</ul>
<h4 id="txtcgp-f3b7h-2">TXTCGP (F3B7H, 2)</h4>
<ul>
<li><strong>initial value</strong>: 0800H</li>
<li><strong>contents</strong>: pattern generator table</li>
</ul>
<h4 id="txtatr-f3b9h-2">TXTATR (F3B9H, 2)</h4>
<ul>
<li><strong>contents</strong>: unused</li>
</ul>
<h4 id="txtpat-f3bbh-2">TXTPAT (F3BBH, 2)</h4>
<ul>
<li><strong>contents</strong>: unused</li>
</ul>
<p>
 
</p>
<h3 id="screen-1">SCREEN 1</h3>
<h4 id="t32nam-f3bdh-2">T32NAM (F3BDH, 2)</h4>
<ul>
<li><strong>initial value</strong>: 1800H</li>
<li><strong>contents</strong>: pattern name table</li>
</ul>
<h4 id="t32col-f3bfh-2">T32COL (F3BFH, 2)</h4>
<ul>
<li><strong>initial value</strong>: 2000H</li>
<li><strong>contents</strong>: colour table</li>
</ul>
<h4 id="t32cgp-f3c1h-2">T32CGP (F3C1H, 2)</h4>
<ul>
<li><strong>initial value</strong>: 0000H</li>
<li><strong>contents</strong>: pattern generator table</li>
</ul>
<h4 id="t32atr-f3c3h-2">T32ATR (F3C3H, 2)</h4>
<ul>
<li><strong>initial value</strong>: 1B00H</li>
<li><strong>contents</strong>: sprite attribute table</li>
</ul>
<h4 id="t32pat-f3c5h-2">T32PAT (F3C5H, 2)</h4>
<ul>
<li><strong>initial value</strong>: 3800H</li>
<li><strong>contents</strong>: sprite generator table</li>
</ul>
<p>
 
</p>
<h3 id="screen-2">SCREEN 2</h3>
<h4 id="grpnam-f3c7h-2">GRPNAM (F3C7H, 2)</h4>
<ul>
<li><strong>initial value</strong>: 1800H</li>
<li><strong>contents</strong>: pattern name table</li>
</ul>
<h4 id="grpcol-f3c9h-2">GRPCOL (F3C9H, 2)</h4>
<ul>
<li><strong>initial value</strong>: 2000H</li>
<li><strong>contents</strong>: colour table</li>
</ul>
<h4 id="grpcgp-f3cbh-2">GRPCGP (F3CBH, 2)</h4>
<ul>
<li><strong>initial value</strong>: 0000H</li>
<li><strong>contents</strong>: pattern generator table</li>
</ul>
<h4 id="grpatr-f3cdh-2">GRPATR (F3CDH, 2)</h4>
<ul>
<li><strong>initial value</strong>: 1B00H</li>
<li><strong>contents</strong>: sprite attribute table</li>
</ul>
<h4 id="grppat-f3cfh-2">GRPPAT (F3CFH, 2)</h4>
<ul>
<li><strong>initial value</strong>: 3800H</li>
<li><strong>contents</strong>: sprite generator table</li>
</ul>
<p>
 
</p>
<h3 id="screen-3">SCREEN 3</h3>
<h4 id="mltnam-f3d1h-2">MLTNAM (F3D1H, 2)</h4>
<ul>
<li><strong>initial value</strong>: 0800H</li>
<li><strong>contents</strong>: pattern name table</li>
</ul>
<h4 id="mltcol-f3d3h-2">MLTCOL (F3D3H, 2)</h4>
<ul>
<li><strong>contents</strong>: unused</li>
</ul>
<h4 id="mltcgp-f3d5h-2">MLTCGP (F3D5H, 2)</h4>
<ul>
<li><strong>initial value</strong>: 0000H</li>
<li><strong>contents</strong>: pattern generator table</li>
</ul>
<h4 id="mltatr-f3d7h-2">MLTATR (F3D7H, 2)</h4>
<ul>
<li><strong>initial value</strong>: 1B00H</li>
<li><strong>contents</strong>: sprite attribute table</li>
</ul>
<h4 id="mltpat-f3d9h-2">MLTPAT (F3D9H, 2)</h4>
<ul>
<li><strong>initial value</strong>: 3800H</li>
<li><strong>contents</strong>: sprite generator table</li>
</ul>
<p>
 
</p>
<h3 id="other-screen-settings">Other screen settings</h3>
<h4 id="cliksw-f3dbh-1">CLIKSW (F3DBH, 1)</h4>
<ul>
<li><strong>initial value</strong>: 1</li>
<li><strong>contents</strong>: key click switch (0 = OFF, otherwise =
ON), set by <code>&lt;key click switch&gt;</code> of SCREEN
statement</li>
</ul>
<h4 id="csry-f3dch-1">CSRY (F3DCH, 1)</h4>
<ul>
<li><strong>initial value</strong>: 1</li>
<li><strong>contents</strong>: Y-coordinate of cursor</li>
</ul>
<h4 id="csrx-f3ddh-1">CSRX (F3DDH, 1)</h4>
<ul>
<li><strong>initial value</strong>: 1</li>
<li><strong>contents</strong>: X-coordinate of cursor</li>
</ul>
<h4 id="cnsdfg-f3deh-1">CNSDFG (F3DEH, 1)</h4>
<ul>
<li><strong>initial value</strong>: 0</li>
<li><strong>contents</strong>: function key display switch (0 = display,
otherwise = no display), set by KEY ON/OFF statement</li>
</ul>
<p>
 
</p>
<h2 id="area-to-save-vdp-registers">Area to save VDP registers</h2>
<h4 id="rg0sav-f3dfh-1">RG0SAV (F3DFH, 1)</h4>
<ul>
<li><strong>initial value</strong>: 0</li>
</ul>
<h4 id="rg1sav-f3e0h-1">RG1SAV (F3E0H, 1)</h4>
<ul>
<li><strong>initial value</strong>: E0H</li>
</ul>
<h4 id="rg2sav-f3e1h-1">RG2SAV (F3E1H, 1)</h4>
<ul>
<li><strong>initial value</strong>: 0</li>
</ul>
<h4 id="rg3sav-f3e2h-1">RG3SAV (F3E2H, 1)</h4>
<ul>
<li><strong>initial value</strong>: 0</li>
</ul>
<h4 id="rg4sav-f3e3h-1">RG4SAV (F3E3H, 1)</h4>
<ul>
<li><strong>initial value</strong>: 0</li>
</ul>
<h4 id="rg5sav-f3e4h-1">RG5SAV (F3E4H, 1)</h4>
<ul>
<li><strong>initial value</strong>: 0</li>
</ul>
<h4 id="rg6sav-f3e5h-1">RG6SAV (F3E5H, 1)</h4>
<ul>
<li><strong>initial value</strong>: 0</li>
</ul>
<h4 id="rg7sav-f3e6h-1">RG7SAV (F3E6H, 1)</h4>
<ul>
<li><strong>initial value</strong>: 0</li>
</ul>
<h4 id="statfl-f3e7h-1">STATFL (F3E7H, 1)</h4>
<ul>
<li><strong>initial value</strong>: 0</li>
<li><strong>contents</strong>: stores VDP status (contents of status
register 0, in MSX2)</li>
</ul>
<h4 id="trgflg-f3e8h-1">TRGFLG (F3E8H, 1)</h4>
<ul>
<li><strong>initial value</strong>: FFH</li>
<li><strong>contents</strong>: stores trigger button status of
joystick</li>
</ul>
<h4 id="forclr-f3e9h-1">FORCLR (F3E9H, 1)</h4>
<ul>
<li><strong>initial value</strong>: 15</li>
<li><strong>contents</strong>: foreground colour; set by colour
statement</li>
</ul>
<h4 id="bakclr-f3eah-1">BAKCLR (F3EAH, 1)</h4>
<ul>
<li><strong>initial value</strong>: 4</li>
<li><strong>contents</strong>: background colour; set by colour
statement</li>
</ul>
<h4 id="bdrclr-f3ebh-1">BDRCLR (F3EBH, 1)</h4>
<ul>
<li><strong>initial value</strong>: 7</li>
<li><strong>contents</strong>: border colour; set by colour
statement</li>
</ul>
<h4 id="maxupd-f3ech-3">MAXUPD (F3ECH, 3)</h4>
<ul>
<li><strong>initial value</strong>: JP 0000H (C3H, 00H, 00H)</li>
<li><strong>contents</strong>: used by CIRCLE statement internally</li>
</ul>
<h4 id="minupd-f3efh-3">MINUPD (F3EFH, 3)</h4>
<ul>
<li><strong>initial value</strong>: JP 0000H (C3H, 00H, 00H)</li>
<li><strong>contents</strong>: used by CIRCLE statement internally</li>
</ul>
<h4 id="atrbyt-f3f2h-1">ATRBYT (F3F2H, 1)</h4>
<ul>
<li><strong>initial value</strong>: 15</li>
<li><strong>contents</strong>: colour code in using graphics</li>
</ul>
<p>
 
</p>
<h2 id="work-area-for-play-statement">Work area for PLAY statement</h2>
<h4 id="queues-f3f3h-2">QUEUES (F3F3H, 2)</h4>
<ul>
<li><strong>initial value</strong>: QUETAB (F959H)</li>
<li><strong>contents</strong>: points to queue table at the execution of
PLAY statement</li>
</ul>
<h4 id="frcnew-f3f5h">FRCNEW (F3F5H)</h4>
<ul>
<li><strong>initial value</strong>: 255</li>
<li><strong>contents</strong>: used by BASIC interpreter internally</li>
</ul>
<p>
 
</p>
<h2 id="work-area-for-key-input">Work area for key input</h2>
<h4 id="scncnt-f3f6h-1">SCNCNT (F3F6H, 1)</h4>
<ul>
<li><strong>initial value</strong>: 1</li>
<li><strong>contents</strong>: interval for the key scan</li>
</ul>
<h4 id="repcnt-f3f7h-1">REPCNT (F3F7H, 1)</h4>
<ul>
<li><strong>initial value</strong>: 50</li>
<li><strong>contents</strong>: delay until the auto-repeat of the key
begins</li>
</ul>
<h4 id="putpnt-f3f8h-2">PUTPNT (F3F8H, 2)</h4>
<ul>
<li><strong>initial value</strong>: KEYBUF (FBF0H)</li>
<li><strong>contents</strong>: points to address to write in the key
buffer</li>
</ul>
<h4 id="getpnt-f3fah-2">GETPNT (F3FAH, 2)</h4>
<ul>
<li><strong>initial value</strong>: KEYBUF (FBF0H)</li>
<li><strong>contents</strong>: points to address to read from key
buffer</li>
</ul>
<p>
 
</p>
<h2 id="parameters-for-cassette">Parameters for Cassette</h2>
<p>
 
</p>
<h4 id="cs120-f3fch-52">CS120 (F3FCH, 5*2)</h4>
<ul>
<li><strong>contents</strong>:
<ul>
<li>1200 baud:
<ul>
<li>83 (LOW01): Low width representing bit 0</li>
<li>92 (HIGH01): High width representing bit 0</li>
<li>38 (LOW11): Low width representing bit 1</li>
<li>45 (HIGH11): High width representing bit 1</li>
<li>HEADLEN * 2/256: High bytes (HEDLEN = 2000) of header bits for short
header</li>
</ul></li>
<li>2400 baud
<ul>
<li>37 (LOW02): Low width representing bit 0</li>
<li>45 (HIGH02): High width representing bit 0</li>
<li>14 (LOW12): Low width representing bit 1</li>
<li>22 (HIGH12): High width representing bit 1</li>
<li>HEADLEN * 4/256: High bytes (HEDLEN = 2000) of header bits for short
header</li>
</ul></li>
</ul></li>
</ul>
<h4 id="low-f406h-2">LOW (F406H, 2)</h4>
<ul>
<li><strong>initial value</strong>: LOW01, HIGH01 (by default, 1200
baud)</li>
<li><strong>contents</strong>: width of LOW and HIGH which represents
bit 0 of current baud rate; set by
<code>&lt;cassette baud rate&gt;</code> of SCREEN statement</li>
</ul>
<h4 id="high-f408h-2">HIGH (F408H, 2)</h4>
<ul>
<li><strong>initial value</strong>: LOW11, HIGH11 (by default, 1200
baud)</li>
<li><strong>contents</strong>: width of LOW and HIGH which represents
bit 1 of current baud rate; set by
<code>&lt;cassette baud rate&gt;</code> of SCREEN statement</li>
</ul>
<h4 id="header-f40ah-1">HEADER (F40AH, 1)</h4>
<ul>
<li><strong>initial value</strong>: HEADLEN * 2/256 (by default, 1200
baud)</li>
<li><strong>contents</strong>: header bit for the short header of
current baud rate (HEADLEN = 2000); set by
<code>&lt;cassette baud rate&gt;</code> of SCREEN statement</li>
</ul>
<h4 id="aspct1-f40bh-1">ASPCT1 (F40BH, 1)</h4>
<ul>
<li><strong>contents</strong>: 256/aspect ratio; set by SCREEN statement
to use in CIRCLE statement</li>
</ul>
<h4 id="aspct2-f40dh-1">ASPCT2 (F40DH, 1)</h4>
<ul>
<li><strong>contents</strong>: 256 * aspect ratio; set by SCREEN
statement to use in CIRCLE statement</li>
</ul>
<h4 id="endprg-f40fh-5">ENDPRG (F40FH, 5)</h4>
<ul>
<li><strong>initial value</strong>: “:”</li>
<li><strong>contents</strong>: false end of program for RESUME NEXT
statement</li>
</ul>
<p>
 
</p>
<h2 id="work-used-by-basic-internally">Work used by BASIC
internally</h2>
<h4 id="errflg-f414h-1">ERRFLG (F414H, 1)</h4>
<ul>
<li><strong>contents</strong>: area to store the error number</li>
</ul>
<h4 id="lptpos-f415h-1">LPTPOS (F415H, 1)</h4>
<ul>
<li><strong>initial value</strong>: 0</li>
<li><strong>contents</strong>: printer head location</li>
</ul>
<h4 id="prtflg-f416h-1">PRTFLG (F416H, 1)</h4>
<ul>
<li><strong>contents</strong>: flag whether to send to printer</li>
</ul>
<h4 id="ntmsxp-f417h-1">NTMSXP (F417H, 1)</h4>
<ul>
<li><strong>contents</strong>: printer (0 = printer for MSX, otherwise
not)</li>
</ul>
<h4 id="rawprt-f418h-1">RAWPRT (F418H, 1)</h4>
<ul>
<li><strong>contents</strong>: non-zero when printing in raw-mode</li>
</ul>
<h4 id="vlzadr-f419h-2">VLZADR (F419H, 2)</h4>
<ul>
<li><strong>contents</strong>: address of character to be replaced by
VAL function</li>
</ul>
<h4 id="vlzdat-f41bh-1">VLZDAT (F41BH, 1)</h4>
<ul>
<li><strong>contents</strong>: character to be replaced with 0 by VAL
function</li>
</ul>
<h4 id="curlin-f41ch-2">CURLIN (F41CH, 2)</h4>
<ul>
<li><strong>contents</strong>: currently executing line number of
BASIC</li>
</ul>
<h4 id="kbuf-f41fh-318">KBUF (F41FH, 318)</h4>
<ul>
<li><strong>contents</strong>: crunch buffer; translated into
intermediate language from BUF (F55EH)</li>
</ul>
<h4 id="bufmin-f55dh-1">BUFMIN (F55DH, 1)</h4>
<ul>
<li><strong>initial value</strong>: “,”</li>
<li><strong>contents</strong>: used in INPUT statement</li>
</ul>
<h4 id="buf-f55eh-258">BUF (F55EH, 258)</h4>
<ul>
<li><strong>contents</strong>: buffer to store characters typed; where
direct statements are stored in ASCII code</li>
</ul>
<h4 id="endbuf-f660h-1">ENDBUF (F660H, 1)</h4>
<ul>
<li><strong>contents</strong>: prevents overflow of BUF (F55EH)</li>
</ul>
<h4 id="ttypos-f661h-1">TTYPOS (F661H, 1)</h4>
<ul>
<li><strong>contents</strong>: virtual cursor location internally
retained by BASIC</li>
</ul>
<h4 id="dimflg-f662h-1">DIMFLG (F662H, 1)</h4>
<ul>
<li><strong>contents</strong>: used by BASIC internally</li>
</ul>
<h4 id="valtyp-f663h-1">VALTYP (F663H, 1)</h4>
<ul>
<li><strong>contents</strong>: used to identify the type of
variable</li>
</ul>
<h4 id="dores-f664h-1">DORES (F664H, 1)</h4>
<ul>
<li><strong>contents</strong>: indicates whether stored word can be
crunched</li>
</ul>
<h4 id="donum-f665h-1">DONUM (F665H, 1)</h4>
<ul>
<li><strong>contents</strong>: flag for crunch</li>
</ul>
<h4 id="contxt-f666h-2">CONTXT (F666H, 2)</h4>
<ul>
<li><strong>contents</strong>: stores text address used by CHRGET</li>
</ul>
<h4 id="consav-f668h-1">CONSAV (F668H, 1)</h4>
<ul>
<li><strong>contents</strong>: stores token of constant after calling
CHRGET</li>
</ul>
<h4 id="contyp-f669h-1">CONTYP (F669H, 1)</h4>
<ul>
<li><strong>contents</strong>: type of stored constant</li>
</ul>
<h4 id="conlo-f66ah-8">CONLO (F66AH, 8)</h4>
<ul>
<li><strong>contents</strong>: value of stored constant</li>
</ul>
<h4 id="memsiz-f672h-2">MEMSIZ (F672H, 2)</h4>
<ul>
<li><strong>contents</strong>: highest address of memory used by
BASIC</li>
</ul>
<h4 id="stktop-f674h-2">STKTOP (F674H, 2)</h4>
<ul>
<li><strong>contents</strong>: address used as stack by BASIC; depending
on CLEAR statement</li>
</ul>
<h4 id="txttab-f676h-2">TXTTAB (F676H, 2)</h4>
<ul>
<li><strong>contents</strong>: starting address of BASIC text area</li>
</ul>
<h4 id="temppt-f768h-2">TEMPPT (F768H, 2)</h4>
<ul>
<li><strong>initial value</strong>: TEMPST (F67AH)</li>
<li><strong>contents</strong>: starting address of unused area of
temporary descriptor</li>
</ul>
<h4 id="tempst-f67ah-3-numtmp">TEMPST (F67AH, 3 * NUMTMP)</h4>
<ul>
<li><strong>contents</strong>: area for NUMTEMP</li>
</ul>
<h4 id="dsctmp-f698h-3">DSCTMP (F698H, 3)</h4>
<ul>
<li><strong>contents</strong>: string descriptor which is the result of
string function</li>
</ul>
<h4 id="fretop-f69bh-2">FRETOP (F69BH, 2)</h4>
<ul>
<li><strong>contents</strong>: starting address of unused area of string
area</li>
</ul>
<h4 id="temp3-f69dh-2">TEMP3 (F69DH, 2)</h4>
<ul>
<li><strong>contents</strong>: used for garbage collection or by USR
function</li>
</ul>
<h4 id="temp8-f69fh-2">TEMP8 (F69FH, 2)</h4>
<ul>
<li><strong>contents</strong>: for garbage collection</li>
</ul>
<h4 id="endfor-f6a1h-2">ENDFOR (F6A1H, 2)</h4>
<ul>
<li><strong>contents</strong>: stores next address of FOR statement (to
begin execution from the next of FOR statement at loops)</li>
</ul>
<h4 id="datlin-f6a3h-2">DATLIN (F6A3H, 2)</h4>
<ul>
<li><strong>contents</strong>: line number of DATA statement read by
READ statement</li>
</ul>
<h4 id="subflg-f6a5h-1">SUBFLG (F6A5H, 1)</h4>
<ul>
<li><strong>contents</strong>: flag for array for USR function</li>
</ul>
<h4 id="flginp-f6a6h-1">FLGINP (F6A6H, 1)</h4>
<ul>
<li><strong>contents</strong>: flag used in INPUT or READ</li>
</ul>
<h4 id="temp-f6a7h-2">TEMP (F6A7H, 2)</h4>
<ul>
<li><strong>contents</strong>: location for temporary reservation for
statement code; used for variable pointer, text address, and others</li>
</ul>
<h4 id="ptrflg-f6a9h-1">PTRFLG (F6A9H, 1)</h4>
<ul>
<li><strong>contents</strong>: 0 if there is not a line number to be
converted,otherwise not</li>
</ul>
<h4 id="autflg-f6aah-1">AUTFLG (F6AAH, 1)</h4>
<ul>
<li><strong>contents</strong>: flag for AUTO command validity (non-zero
= valid, otherwise invalid)</li>
</ul>
<h4 id="autlin-f6abh-2">AUTLIN (F6ABH, 2)</h4>
<ul>
<li><strong>contents</strong>: last input line number</li>
</ul>
<h4 id="autinc-f6adh-2">AUTINC (F6ADH, 2)</h4>
<ul>
<li><strong>initial value</strong>: 10</li>
<li><strong>contents</strong>: increment value of line number of AUTO
command</li>
</ul>
<h4 id="savtxt-f6afh-2">SAVTXT (F6AFH, 2)</h4>
<ul>
<li><strong>contents</strong>: area to store address of currently
executing text; mainly used for error recovery by RESUME statement</li>
</ul>
<h4 id="errlin-f6b3h-2">ERRLIN (F6B3H, 2)</h4>
<ul>
<li><strong>contents</strong>: line number where an error occurred</li>
</ul>
<h4 id="dot-f6b5h-2">DOT (F6B5H, 2)</h4>
<ul>
<li><strong>contents</strong>: last line number which was displayed in
screen or entered</li>
</ul>
<h4 id="errtxt-f6b7h-2">ERRTXT (F6B7H, 2)</h4>
<ul>
<li><strong>contents</strong>: text address which caused an error;
mainly used for error recovery by RESUME statement</li>
</ul>
<h4 id="onelin-f6b9h-2">ONELIN (F6B9H, 2)</h4>
<ul>
<li><strong>contents</strong>: text address to which control jumps at
error; set by ON ERROR GOTO statement</li>
</ul>
<h4 id="oneflg-f6bbh-1">ONEFLG (F6BBH, 1)</h4>
<ul>
<li><strong>contents</strong>: flag which indicates error routine
execution (non-zero = in execution, otherwise not)</li>
</ul>
<h4 id="temp2-f6bch-2">TEMP2 (F6BCH, 2)</h4>
<ul>
<li><strong>contents</strong>: for temporary storage</li>
</ul>
<h4 id="oldlin-f6beh-2">OLDLIN (F6BEH, 2)</h4>
<ul>
<li><strong>contents</strong>: line number which was terminated by
Ctrl+STOP, STOP instruction, END instruction, or was executed last</li>
</ul>
<h4 id="oldtxt-f6c0h-2">OLDTXT (F6C0H, 2)</h4>
<ul>
<li><strong>contents</strong>: address to be executed next</li>
</ul>
<h4 id="vartab-f6c2h-2">VARTAB (F6C2H, 2)</h4>
<ul>
<li><strong>contents</strong>: starting address of simple variable;
executing NEW statement causes [contents of TXTTAB(F676H) + 2] to be
set</li>
</ul>
<h4 id="arytab-f6c4h-2">ARYTAB (F6C4H, 2)</h4>
<ul>
<li><strong>contents</strong>: starting address of array table</li>
</ul>
<h4 id="strend-f6c6h-2">STREND (F6C6H, 2)</h4>
<ul>
<li><strong>contents</strong>: last address of memory in use as text
area or variable area</li>
</ul>
<h4 id="datptr-f6c8h-2">DATPTR (F6C8H, 2)</h4>
<ul>
<li><strong>contents</strong>: text address of data read by executing
READ statement</li>
</ul>
<h4 id="deftbl-f6cah-26">DEFTBL (F6CAH, 26)</h4>
<ul>
<li><strong>contents</strong>: area to store type of variable for one
alphabetical character; depends on type declaration such as CLEAR,
DEFSTR, !, or #</li>
</ul>
<p>
 
</p>
<h2 id="work-for-user-function-parameter">Work for user function
parameter</h2>
<h4 id="prmstk-f6e4h-2">PRMSTK (F6E4H, 2)</h4>
<ul>
<li><strong>contents</strong>: previous definition block on stack (for
garbage collection)</li>
</ul>
<h4 id="prmlen-f6e6h-2">PRMLEN (F6E6H, 2)</h4>
<ul>
<li><strong>contents</strong>: number of bytes of objective data</li>
</ul>
<h4 id="parm1-f6e8h-prmsiz">PARM1 (F6E8H, PRMSIZ)</h4>
<ul>
<li><strong>contents</strong>: objective parameter definition table;
PRMSIZ is number of bytes of definition block, initial value is 100</li>
</ul>
<h4 id="prmprv-f74ch-2">PRMPRV (F74CH, 2)</h4>
<ul>
<li><strong>initial value</strong>: PRMSTK</li>
<li><strong>contents</strong>: pointer to previous parameter block (for
garbage collection)</li>
</ul>
<h4 id="prmln2-f74eh-2">PRMLN2 (F74EH, 2)</h4>
<ul>
<li><strong>contents</strong>: size of parameter block</li>
</ul>
<h4 id="parm2-f750h-100">PARM2 (F750H, 100)</h4>
<ul>
<li><strong>contents</strong>: for parameter storage</li>
</ul>
<h4 id="prmflg-f7b4h-1">PRMFLG (F7B4H, 1)</h4>
<ul>
<li><strong>contents</strong>: flag to indicate whether PARM1 was
searched</li>
</ul>
<h4 id="aryta2-f7b5h-2">ARYTA2 (F7B5H, 2)</h4>
<ul>
<li><strong>contents</strong>: end point of search</li>
</ul>
<h4 id="nofuns-f7b7h-1">NOFUNS (F7B7H, 1)</h4>
<ul>
<li><strong>contents</strong>: 0 if there is not an objective
function</li>
</ul>
<h4 id="temp9-f7b8h-2">TEMP9 (F7B8H, 2)</h4>
<ul>
<li><strong>contents</strong>: location of temporary storage for garbage
collection</li>
</ul>
<h4 id="funact-f7bah-2">FUNACT (F7BAH, 2)</h4>
<ul>
<li><strong>contents</strong>: number of objective functions</li>
</ul>
<h4 id="swptmp-f7bch-8">SWPTMP (F7BCH, 8)</h4>
<ul>
<li><strong>contents</strong>: location of temporary storage of the
value of the first variable of SWAP statement</li>
</ul>
<h4 id="trcflg-f7c4h-1">TRCFLG (F7C4H, 1)</h4>
<ul>
<li><strong>contents</strong>: trace flag (non-zero = TRACE ON, 0 =
TRACE OFF)</li>
</ul>
<p>
 
</p>
<h2 id="work-for-math-pack">Work for Math-Pack</h2>
<h4 id="fbuffr-f7c5h-43">FBUFFR (F7C5H, 43)</h4>
<ul>
<li><strong>contents</strong>: used internally by Math-Pack</li>
</ul>
<h4 id="dectmp-f7f0h-2">DECTMP (F7F0H, 2)</h4>
<ul>
<li><strong>contents</strong>: used to transform decimal integer to
floating-point number</li>
</ul>
<h4 id="dectm2-f7f2h-2">DECTM2 (F7F2H, 2)</h4>
<ul>
<li><strong>contents</strong>: used at division routine execution</li>
</ul>
<h4 id="deccnt-f7f4h-2">DECCNT (F7F4H, 2)</h4>
<ul>
<li><strong>contents</strong>: used at division routine execution</li>
</ul>
<h4 id="dac-f7f6h-16">DAC (F7F6H, 16)</h4>
<ul>
<li><strong>contents</strong>: area to set the value to be
calculated</li>
</ul>
<h4 id="hold8-f806h-48">HOLD8 (F806H, 48)</h4>
<ul>
<li><strong>contents</strong>: register storage area for decimal
multiplication</li>
</ul>
<h4 id="hold2-f836h-8">HOLD2 (F836H, 8)</h4>
<ul>
<li><strong>contents</strong>: used internally by Math-Pack</li>
</ul>
<h4 id="hold-f83eh-8">HOLD (F83EH, 8)</h4>
<ul>
<li><strong>contents</strong>: used internally by Math-Pack</li>
</ul>
<h4 id="arg-f847h-16">ARG (F847H, 16)</h4>
<ul>
<li><strong>contents</strong>: area to set the value to be calculated
with DAC (F7F6H)</li>
</ul>
<h4 id="rndx-f857h-8">RNDX (F857H, 8)</h4>
<ul>
<li><strong>contents</strong>: stores last random number in double
precision real number; set by RND function</li>
</ul>
<p>
 
</p>
<h2 id="data-area-used-by-basic-interpreter">Data area used by BASIC
interpreter</h2>
<h4 id="maxfil-f85fh-1">MAXFIL (F85FH, 1)</h4>
<ul>
<li><strong>contents</strong>: maximum file number; set by MAXFILES
statement</li>
</ul>
<h4 id="filtab-f860h-2">FILTAB (F860H, 2)</h4>
<ul>
<li><strong>contents</strong>: starting address of file data area</li>
</ul>
<h4 id="nulbuf-f862h-2">NULBUF (F862H, 2)</h4>
<ul>
<li><strong>contents</strong>: points to buffer used in SAVE and LOAD by
BASIC interpreter</li>
</ul>
<h4 id="ptrfil-f864h-2">PTRFIL (F864H, 2)</h4>
<ul>
<li><strong>contents</strong>: address of file data of currently
accessing file</li>
</ul>
<h4 id="runflg-f866h-2">RUNFLG (F866H, 2)</h4>
<ul>
<li><strong>contents</strong>: non-zero value if program was loaded and
executed; used by R option of LOAD statement</li>
</ul>
<h4 id="filnam-f866h-11">FILNAM (F866H, 11)</h4>
<ul>
<li><strong>contents</strong>: area to store filename</li>
</ul>
<h4 id="filnm2-f871h-11">FILNM2 (F871H, 11)</h4>
<ul>
<li><strong>contents</strong>: area to store filename</li>
</ul>
<h4 id="nlonly-f87ch-1">NLONLY (F87CH, 1)</h4>
<ul>
<li><strong>contents</strong>: non-zero value if program is being
loaded</li>
</ul>
<h4 id="savend-f87dh-2">SAVEND (F87DH, 2)</h4>
<ul>
<li><strong>contents</strong>: end address of assembly language program
to be saved</li>
</ul>
<h4 id="fnkstr-f87fh-160">FNKSTR (F87FH, 160)</h4>
<ul>
<li><strong>contents</strong>: area to store function key string (16
character x 10)</li>
</ul>
<h4 id="cgpnt-f91fh-3">CGPNT (F91FH, 3)</h4>
<ul>
<li><strong>contents</strong>: address to store character font on
ROM</li>
</ul>
<h4 id="nambas-f922h-2">NAMBAS (F922H, 2)</h4>
<ul>
<li><strong>contents</strong>: base address of current pattern name
table</li>
</ul>
<h4 id="cgpbas-f924h-2">CGPBAS (F924H, 2)</h4>
<ul>
<li><strong>contents</strong>: base address of current pattern generator
table</li>
</ul>
<h4 id="patbas-f926h-2">PATBAS (F926H, 2)</h4>
<ul>
<li><strong>contents</strong>: base address of current sprite generator
table</li>
</ul>
<h4 id="atrbas-f928h-2">ATRBAS (F928H, 2)</h4>
<ul>
<li><strong>contents</strong>: base address of current sprite attribute
table</li>
</ul>
<h4 id="cloc-f92ah-2">CLOC (F92AH, 2)</h4>
<ul>
<li><strong>contents</strong>: used internally by graphic routine</li>
</ul>
<h4 id="cmask-f92ch-1">CMASK (F92CH, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by graphic routine</li>
</ul>
<h4 id="mindel-f92dh-1">MINDEL (F92DH, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by graphic routine</li>
</ul>
<h4 id="maxdel-f92fh-2">MAXDEL (F92FH, 2)</h4>
<ul>
<li><strong>contents</strong>: used internally by graphic routine</li>
</ul>
<p>
 
</p>
<h2 id="data-area-used-by-circle-statement">Data area used by CIRCLE
statement</h2>
<h4 id="aspect-f931h-2">ASPECT (F931H, 2)</h4>
<ul>
<li><strong>contents</strong>: aspect ratio of the circle; set by
<code>&lt;ratio&gt;</code> of CIRCLE statement</li>
</ul>
<h4 id="cencnt-f933h-2">CENCNT (F933H, 2)</h4>
<ul>
<li><strong>contents</strong>: used internally by CIRCLE statement</li>
</ul>
<h4 id="clinef-f935h-1">CLINEF (F935H, 1)</h4>
<ul>
<li><strong>contents</strong>: flag whether a line is drawn toward the
center; specified by <code>&lt;angle&gt;</code> of CIRCLE statement</li>
</ul>
<h4 id="cnpnts-f936h-2">CNPNTS (F936H, 2)</h4>
<ul>
<li><strong>contents</strong>: point to be plotted</li>
</ul>
<h4 id="cplotf-f938h-1">CPLOTF (F938H, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by CIRCLE statement</li>
</ul>
<h4 id="cpcnt-f939h-2">CPCNT (F939H, 2)</h4>
<ul>
<li><strong>contents</strong>: number of one eight of the circle</li>
</ul>
<h4 id="cpncnt8-f93bh-2">CPNCNT8 (F93BH, 2)</h4>
<ul>
<li><strong>contents</strong>: used internally by CIRCLE statement</li>
</ul>
<h4 id="cpcsum-f93dh-2">CPCSUM (F93DH, 2)</h4>
<ul>
<li><strong>contents</strong>: used internally by CIRCLE statement</li>
</ul>
<h4 id="cstcnt-f93fh-2">CSTCNT (F93FH, 2)</h4>
<ul>
<li><strong>contents</strong>: used internally by CIRCLE statement</li>
</ul>
<h4 id="csclxy-f941h-1">CSCLXY (F941H, 1)</h4>
<ul>
<li><strong>contents</strong>: scale of x and y</li>
</ul>
<h4 id="csavea-f942h-2">CSAVEA (F942H, 2)</h4>
<ul>
<li><strong>contents</strong>: reservation area of ADVGRP</li>
</ul>
<h4 id="csavem-f944h-1">CSAVEM (F944H, 1)</h4>
<ul>
<li><strong>contents</strong>: reservation area of ADVGRP</li>
</ul>
<h4 id="cxoff-f945h-2">CXOFF (F945H, 2)</h4>
<ul>
<li><strong>contents</strong>: x offset from the center</li>
</ul>
<h4 id="cyoff-f947h-2">CYOFF (F947H, 2)</h4>
<ul>
<li><strong>contents</strong>: y offset from the center</li>
</ul>
<p>
 
</p>
<h2 id="data-area-used-in-paint-statement">Data area used in PAINT
statement</h2>
<h4 id="lohmsk-f949h-1">LOHMSK (F949H, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by PAINT statement</li>
</ul>
<h4 id="lohdir-f94ah-1">LOHDIR (F94AH, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by PAINT statement</li>
</ul>
<h4 id="lohadr-f94bh-2">LOHADR (F94BH, 2)</h4>
<ul>
<li><strong>contents</strong>: used internally by PAINT statement</li>
</ul>
<h4 id="lohcnt-f94dh-2">LOHCNT (F94DH, 2)</h4>
<ul>
<li><strong>contents</strong>: used internally by PAINT statement</li>
</ul>
<h4 id="skpcnt-f94fh-2">SKPCNT (F94FH, 2)</h4>
<ul>
<li><strong>contents</strong>: skip count</li>
</ul>
<h4 id="mivcnt-f951h-2">MIVCNT (F951H, 2)</h4>
<ul>
<li><strong>contents</strong>: movement count</li>
</ul>
<h4 id="pdirec-f953h-1">PDIREC (F953H, 1)</h4>
<ul>
<li><strong>contents</strong>: direction of the paint</li>
</ul>
<h4 id="lfprog-f954h-1">LFPROG (F954H, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by PAINT statement</li>
</ul>
<h4 id="rtprog-f955h-1">RTPROG (F955H, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by PAINT statement</li>
</ul>
<p>
 
</p>
<h2 id="data-area-used-in-play-statement">Data area used in PLAY
statement</h2>
<h4 id="mcltab-f956h-2">MCLTAB (F956H, 2)</h4>
<ul>
<li><strong>contents</strong>: points to the top of the table of PLAY
macro or DRAW macro</li>
</ul>
<h4 id="mclflg-f958h-1">MCLFLG (F958H, 1)</h4>
<ul>
<li><strong>contents</strong>: assignment of PLAY/DRAW</li>
</ul>
<h4 id="quetab-f959h-24">QUETAB (F959H, 24)</h4>
<ul>
<li><strong>contents</strong>: queue table
<ul>
<li>+0: PUT offset</li>
<li>+1: GET offset</li>
<li>+2: backup character</li>
<li>+3: queue length</li>
<li>+4: queue address</li>
<li>+5: queue address</li>
</ul></li>
</ul>
<h4 id="quebak-f971h-4">QUEBAK (F971H, 4)</h4>
<ul>
<li><strong>contents</strong>: used in BCKQ</li>
</ul>
<h4 id="voicaq-f975h-128">VOICAQ (F975H, 128)</h4>
<ul>
<li><strong>contents</strong>: queue of voice 1 (1 = a)</li>
</ul>
<h4 id="voicbq-f9f5h-128">VOICBQ (F9F5H, 128)</h4>
<ul>
<li><strong>contents</strong>: queue of voice 2 (2 = b)</li>
</ul>
<h4 id="voiccq-fa75h-128">VOICCQ (FA75H, 128)</h4>
<ul>
<li><strong>contents</strong>: queue of voice 3 (3 = c)</li>
</ul>
<p>
 
</p>
<h2 id="work-area-added-in-msx2">Work area added in MSX2</h2>
<h4 id="dppage-faf5h-1">DPPAGE (FAF5H, 1)</h4>
<ul>
<li><strong>contents</strong>: display page number</li>
</ul>
<h4 id="acpage-faf6h-1">ACPAGE (FAF6H, 1)</h4>
<ul>
<li><strong>contents</strong>: active page number</li>
</ul>
<h4 id="avcsav-faf7h-1">AVCSAV (FAF7H, 1)</h4>
<ul>
<li><strong>contents</strong>: reserves AV control port</li>
</ul>
<h4 id="exbrsa-faf8h-1">EXBRSA (FAF8H, 1)</h4>
<ul>
<li><strong>contents</strong>: SUB-ROM slot address</li>
</ul>
<h4 id="chrcnt-faf9h-1">CHRCNT (FAF9H, 1)</h4>
<ul>
<li><strong>contents</strong>: character counter in the buffer; used in
Roman-kana translation (value is 0 <code>&lt;</code>=n
<code>&lt;</code>=2)</li>
</ul>
<h4 id="roma-fafah-2">ROMA (FAFAH, 2)</h4>
<ul>
<li><strong>contents</strong>: area to store character in the buffer;
used in Roman-kana translation (Japan version only)</li>
</ul>
<h4 id="mode-fafch-1">MODE (FAFCH, 1)</h4>
<ul>
<li><strong>contents</strong>: mode switch for VRAM size</li>
</ul>
<pre><code>        (0000WVV0)
             ---
             |||
             |++--- 00 = 16K VRAM
             |      01 = 64K VRAM
             |      11 = 128K VRAM
             |
             +----- 1 = mask, 0 = no mask
                    Flags whether to specify VRAM address
                    ANDed with 3FFFH in SCREEN 0 to 3;
                    in SCREEN 4 to 8, never masked</code></pre>
<h4 id="noruse-fafdh-1">NORUSE (FAFDH, 1)</h4>
<ul>
<li><strong>contents</strong>: unused</li>
</ul>
<h4 id="xsave-fafeh-2">XSAVE (FAFEH, 2)</h4>
<ul>
<li><strong>contents</strong>: [ I OOOOOOO XXXXXXXX ]</li>
</ul>
<h4 id="ysave-fb00h-2">YSAVE (FB00H, 2)</h4>
<ul>
<li><strong>contents</strong>: [ x OOOOOOO YYYYYYYY ]</li>
</ul>
<pre><code>        I = 1 lightpen interrupt request
        OOOOOOO = unsigned offset
        XXXXXXX = X-coordinate
        YYYYYYY = Y-coordinate</code></pre>
<h4 id="logopr-fb02h-1">LOGOPR (FB02H, 1)</h4>
<ul>
<li><strong>contents</strong>: logical operation code</li>
</ul>
<p>
 
</p>
<h2 id="data-area-used-by-rs-232c">Data area used by RS-232C</h2>
<h4 id="rstmp-fb03h-50">RSTMP (FB03H, 50)</h4>
<ul>
<li><strong>contents</strong>: work area for RS-232C or disk</li>
</ul>
<h4 id="tocnt-fb03h-1">TOCNT (FB03H, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by RS-232C routine</li>
</ul>
<h4 id="rsfcb-fb04h-2">RSFCB (FB04H, 2)</h4>
<ul>
<li><p><strong>contents</strong>:</p>
<ul>
<li>FB04H + 0: LOW address of RS-232C</li>
<li>FB04H + 1: HIGH address of RS-232C</li>
</ul></li>
</ul>
<h4 id="rsiqln-fb06h-5">RSIQLN (FB06H, 5)</h4>
<ul>
<li><strong>contents</strong>: used internally by RS-232C routine</li>
</ul>
<h4 id="mexbih-fb07h-5">MEXBIH (FB07H, 5)</h4>
<ul>
<li><strong>contents</strong>:
<ul>
<li>FB07H +0: RST 30H (0F7H)</li>
<li>FB07H +1: byte data</li>
<li>FB07H +2: (Low)</li>
<li>FB07H +3: (High)</li>
<li>FB07H +4: RET (0C9H)</li>
</ul></li>
</ul>
<h4 id="oldstt-fb0ch-5">OLDSTT (FB0CH, 5)</h4>
<ul>
<li><strong>contents</strong>:
<ul>
<li>FB0CH +0: RST 30H (0F7H)</li>
<li>FB0CH +1: byte data</li>
<li>FB0CH +2: (Low)</li>
<li>FB0CH +3: (High)</li>
<li>FB0CH +4: RET (0C9H)</li>
</ul></li>
</ul>
<h4 id="oldint-fb12h-5">OLDINT (FB12H, 5)</h4>
<ul>
<li><strong>contents</strong>:
<ul>
<li>FB12H +0: RST 30H (0F7H)</li>
<li>FB12H +1: byte data</li>
<li>FB12H +2: (Low)</li>
<li>FB12H +3: (High)</li>
<li>FB12H +4: RET (0C9H)</li>
</ul></li>
</ul>
<h4 id="devnum-fb17h-1">DEVNUM (FB17H, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by RS-232C routine</li>
</ul>
<h4 id="datcnt-fb18h-3">DATCNT (FB18H, 3)</h4>
<ul>
<li><strong>contents</strong>:
<ul>
<li>FB18H +0: byte data</li>
<li>FB18H +1: byte pointer</li>
<li>FB18H +2: byte pointer</li>
</ul></li>
</ul>
<h4 id="errors-fb1bh-1">ERRORS (FB1BH, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by RS-232C routine</li>
</ul>
<h4 id="flags-fb1ch-1">FLAGS (FB1CH, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by RS-232C routine</li>
</ul>
<h4 id="estbls-fb1dh-1">ESTBLS (FB1DH, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by RS-232C routine</li>
</ul>
<h4 id="commsk-fb1eh-1">COMMSK (FB1EH, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by RS-232C routine</li>
</ul>
<h4 id="lstcom-fb1fh-1">LSTCOM (FB1FH, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by RS-232C routine</li>
</ul>
<h4 id="lstmod-fb20h-1">LSTMOD (FB20H, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by RS-232C routine</li>
</ul>
<p>
 
</p>
<h2 id="data-area-used-by-dos">Data area used by DOS</h2>
<h4 id="reserved-fb21h-to-fb34h">reserved (FB21H to FB34H)</h4>
<ul>
<li><strong>contents</strong>: used by DOS</li>
</ul>
<p>
 
</p>
<h2 id="data-area-used-by-play-statement">Data area used by PLAY
statement</h2>
<p><em>(the following is the same as with MSX1)</em></p>
<h4 id="prscnt-fb35h-1">PRSCNT (FB35H, 1)</h4>
<ul>
<li><strong>contents</strong>:
<ul>
<li>D1 to D0: string parse</li>
<li>D7 = 0: 1 pass</li>
</ul></li>
</ul>
<h4 id="savsp-fb36h-2">SAVSP (FB36H, 2)</h4>
<ul>
<li><strong>contents</strong>: reserves stack pointer in play</li>
</ul>
<h4 id="voicen-fb38h-1">VOICEN (FB38H, 1)</h4>
<ul>
<li><strong>contents</strong>: current interpreted voice</li>
</ul>
<h4 id="savvol-fb39h-2">SAVVOL (FB39H, 2)</h4>
<ul>
<li><strong>contents</strong>: reserves volume for the pause</li>
</ul>
<h4 id="mcllen-fb3bh-1">MCLLEN (FB3BH, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by PLAY statement</li>
</ul>
<h4 id="mclptr-fb3ch-1">MCLPTR (FB3CH, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by PLAY statement</li>
</ul>
<h4 id="queuen-fb3eh-1">QUEUEN (FB3EH, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by PLAY statement</li>
</ul>
<h4 id="musicf-fb3fh-1">MUSICF (FB3FH, 1)</h4>
<ul>
<li><strong>contents</strong>: interrupt flag for playing music</li>
</ul>
<h4 id="plycnt-fb40h-1">PLYCNT (FB40H, 1)</h4>
<ul>
<li><strong>contents</strong>: number of PLAY statements stored in the
queue</li>
</ul>
<p>
 
</p>
<h3 id="offset-from-voice-static-data-area">Offset from voice static
data area</h3>
<p><em>(offset is in decimal)</em></p>
<h4 id="metrex-0-2">METREX (+0, 2)</h4>
<ul>
<li><strong>contents</strong>: timer count down</li>
</ul>
<h4 id="vcxlen-2-1">VCXLEN (+2, 1)</h4>
<ul>
<li><strong>contents</strong>: MCLLEN for this voice</li>
</ul>
<h4 id="vcxptr-3-2">VCXPTR (+3, 2)</h4>
<ul>
<li><strong>contents</strong>: MCLPTR for this voice</li>
</ul>
<h4 id="vcxstp-5-2">VCXSTP (+5, 2)</h4>
<ul>
<li><strong>contents</strong>: reserves the top of the stack
pointer</li>
</ul>
<h4 id="qlengx-7-1">QLENGX (+7, 1)</h4>
<ul>
<li><strong>contents</strong>: number of bytes stored in the queue</li>
</ul>
<h4 id="nticsx-8-2">NTICSX (+8, 2)</h4>
<ul>
<li><strong>contents</strong>: new count down</li>
</ul>
<h4 id="tonprx-10-2">TONPRX (+10, 2)</h4>
<ul>
<li><strong>contents</strong>: area to set tone period</li>
</ul>
<h4 id="ampprx-12-1">AMPPRX (+12, 1)</h4>
<ul>
<li><strong>contents</strong>: discrimination of volume and
enveloppe</li>
</ul>
<h4 id="envprx-13-2">ENVPRX (+13, 2)</h4>
<ul>
<li><strong>contents</strong>: area to set enveloppe period</li>
</ul>
<h4 id="octavx-15-1">OCTAVX (+15, 1)</h4>
<ul>
<li><strong>contents</strong>: area to set octave</li>
</ul>
<h4 id="notelx-16-1">NOTELX (+16, 1)</h4>
<ul>
<li><strong>contents</strong>: area to set tone length</li>
</ul>
<h4 id="tempox-17-1">TEMPOX (+17, 1)</h4>
<ul>
<li><strong>contents</strong>: area to set tempo</li>
</ul>
<h4 id="volumx-18-1">VOLUMX (+18, 1)</h4>
<ul>
<li><strong>contents</strong>: area to set volume</li>
</ul>
<h4 id="envlpx-19-14">ENVLPX (+19, 14)</h4>
<ul>
<li><strong>contents</strong>: area to set enveloppe wave form</li>
</ul>
<h4 id="mclstx-33-3">MCLSTX (+33, 3)</h4>
<ul>
<li><strong>contents</strong>: reservation area of stack</li>
</ul>
<h4 id="mclsex-36-1">MCLSEX (+36, 1)</h4>
<ul>
<li><strong>contents</strong>: initialisation stack</li>
</ul>
<h4 id="vcbsiz-37-1">VCBSIZ (+37, 1)</h4>
<ul>
<li><strong>contents</strong>: static buffer size</li>
</ul>
<p>
 
</p>
<h3 id="voice-static-data-area">Voice static data area</h3>
<h4 id="vcba-fb41h-37">VCBA (FB41H, 37)</h4>
<ul>
<li><strong>contents</strong>: static data for voice 0</li>
</ul>
<h4 id="vcbb-fb66h-37">VCBB (FB66H, 37)</h4>
<ul>
<li><strong>contents</strong>: static data for voice 1</li>
</ul>
<h4 id="vcbc-fb8bh-37">VCBC (FB8BH, 37)</h4>
<ul>
<li><strong>contents</strong>: static data for voice 2</li>
</ul>
<p>
 
</p>
<h2 id="data-area">Data area</h2>
<h4 id="enstop-fbb0h-1">ENSTOP (FBB0H, 1)</h4>
<ul>
<li><strong>contents</strong>: flag to enable warm start by
[SHIFT+Ctrl+Kana key] (0 = disable, otherwise enable)</li>
</ul>
<h4 id="basrom-fbb1h-1">BASROM (FBB1H, 1)</h4>
<ul>
<li><strong>contents</strong>: indicates BASIC text location (0 = on
RAM, otherwise in ROM)</li>
</ul>
<h4 id="linttb-fbb2h-24">LINTTB (FBB2H, 24)</h4>
<ul>
<li><strong>contents</strong>: line terminal table; area to keep
information about each line of text screen</li>
</ul>
<h4 id="fstpos-fbcah-2">FSTPOS (FBCAH, 2)</h4>
<ul>
<li><strong>contents</strong>: first character location of line from
INLIN (00B1H) of BIOS</li>
</ul>
<h4 id="codsav-fbcch-1">CODSAV (FBCCH, 1)</h4>
<ul>
<li><strong>contents</strong>: area to reserve the character where the
cursor is stacked</li>
</ul>
<h4 id="fnksw1-fbcdh-1">FNKSW1 (FBCDH, 1)</h4>
<ul>
<li><strong>contents</strong>: indicates which function key is displayed
at KEY ON (1 = F1 to F5 is displayed, 0 = F6 to F10 is displayed)</li>
</ul>
<h4 id="fnkflg-fbceh-10">FNKFLG (FBCEH, 10)</h4>
<ul>
<li><strong>contents</strong>: area to allow, inhibit, or stop the
execution of the line defined in ON KEY GOSUB statement, or to reserve
it for each function key; set by KEY(n)ON/OFF/STOP statement (0 =
KEY(n)OFF/STOP, 1= KEY(n)ON)</li>
</ul>
<h4 id="ongsbf-fbd8h-1">ONGSBF (FBD8H, 1)</h4>
<ul>
<li><strong>contents</strong>: flag to indicate whether event waiting in
TRPTBL (FC4CH) occurred</li>
</ul>
<h4 id="clikfl-fbd9h-1">CLIKFL (FBD9H, 1)</h4>
<ul>
<li><strong>contents</strong>: key click flag</li>
</ul>
<h4 id="oldkey-fbdah-11">OLDKEY (FBDAH, 11)</h4>
<ul>
<li><strong>contents</strong>: key matrix status (old)</li>
</ul>
<h4 id="newkey-fbe5h-11">NEWKEY (FBE5H, 11)</h4>
<ul>
<li><strong>contents</strong>: key matrix status (new)</li>
</ul>
<h4 id="keybuf-fbf0h-40">KEYBUF (FBF0H, 40)</h4>
<ul>
<li><strong>contents</strong>: key code buffer</li>
</ul>
<h4 id="linwrk-fc18h-40">LINWRK (FC18H, 40)</h4>
<ul>
<li><strong>contents</strong>: temporary reservation location used by
screen handler</li>
</ul>
<h4 id="patwrk-fc40h-8">PATWRK (FC40H, 8)</h4>
<ul>
<li><strong>contents</strong>: temporary reservation location used by
pattern converter</li>
</ul>
<h4 id="bottom-fc48h-2">BOTTOM (FC48H, 2)</h4>
<ul>
<li><strong>contents</strong>: installed RAM starting (low) address;
ordinarily 8000H in MSX2</li>
</ul>
<h4 id="himem-fc4ah-2">HIMEM (FC4AH, 2)</h4>
<ul>
<li><strong>contents</strong>: highest address of available memory; set
by <code>&lt;memory upper limit&gt;</code> of CLEAR statement</li>
</ul>
<h4 id="traptbl-fc4ch-78">TRAPTBL (FC4CH, 78)</h4>
<ul>
<li><strong>contents</strong>: trap table used to handle interrupt; one
table consists of three bytes, where first byte indicates ON/OFF/STOP
status and the rest indicate the text address to be jumped to
<ul>
<li>FC4CH to FC69H (3 * 10 bytes): used in ON KEY GOSUB</li>
<li>FC6AH to FC6CH (3 * 1 byte): used in ON STOP GOSUB</li>
<li>FC6DH to FC6FH (3 * 1 byte): used in ON SPRITE GOSUB</li>
<li>FC70H to FC7EH (3 * 5 bytes): used in ON STRIG GOSUB</li>
<li>FC7FH to FC81H (3 * 1 byte): used in ON INTERVAL GOSUB</li>
<li>FC82H to FC99H: for expansion</li>
</ul></li>
</ul>
<h4 id="rtycnt-fc9ah-1">RTYCNT (FC9AH, 1)</h4>
<ul>
<li><strong>contents</strong>: used internally by BASIC</li>
</ul>
<h4 id="intflg-fc9bh-1">INTFLG (FC9BH, 1)</h4>
<ul>
<li><strong>contents</strong>: if Ctrl+STOP is pressed, setting 03H here
causes a stop</li>
</ul>
<h4 id="pady-fc9ch-1">PADY (FC9CH, 1)</h4>
<ul>
<li><strong>contents</strong>: Y-coordinate of the paddle)</li>
</ul>
<h4 id="padx-fc9dh-1">PADX (FC9DH, 1)</h4>
<ul>
<li><strong>contents</strong>: X-coordinate of the paddle)</li>
</ul>
<h4 id="jiffy-fc9eh-2">JIFFY (FC9EH, 2)</h4>
<ul>
<li><strong>contents</strong>: used internally by PLAY statement</li>
</ul>
<h4 id="intval-fca0h-2">INTVAL (FCA0H, 2)</h4>
<ul>
<li><strong>contents</strong>: interval period; set by ON INTERVAL GOSUB
statement</li>
</ul>
<h4 id="intcnt-fca2h-2">INTCNT (FCA2H, 2)</h4>
<ul>
<li><strong>contents</strong>: counter for interval</li>
</ul>
<h4 id="lowlim-fca4h-1">LOWLIM (FCA4H, 1)</h4>
<ul>
<li><strong>contents</strong>: used during reading from cassette
tape</li>
</ul>
<h4 id="winwid-fca5h-1">WINWID (FCA5H, 1)</h4>
<ul>
<li><strong>contents</strong>: used during reading from cassette
tape</li>
</ul>
<h4 id="grphed-fca6h-1">GRPHED (FCA6H, 1)</h4>
<ul>
<li><strong>contents</strong>: flag to send graphic character (1 =
graphic character, 0 = normal character)</li>
</ul>
<h4 id="esccnt-fca7h-1">ESCCNT (FCA7H, 1)</h4>
<ul>
<li><strong>contents</strong>: area to count from escape code</li>
</ul>
<h4 id="insflg-fca8h-1">INSFLG (FCA8H, 1)</h4>
<ul>
<li><strong>contents</strong>: flag to indicate insert mode (0 = normal
mode, otherwise = insert mode)</li>
</ul>
<h4 id="csrsw-fca9h-1">CSRSW (FCA9H, 1)</h4>
<ul>
<li><strong>contents</strong>: whether cursor is displayed (0 = no,
otherwise = yes); set by <code>&lt;cursor swicth&gt;</code> of LOCATE
statement</li>
</ul>
<h4 id="cstyle-fcaah-1">CSTYLE (FCAAH, 1)</h4>
<ul>
<li><strong>contents</strong>: cursor shape (0 = block, otherwise =
underline)</li>
</ul>
<h4 id="capst-fcabh-1">CAPST (FCABH, 1)</h4>
<ul>
<li><strong>contents</strong>: CAPS key status (0 = CAP OFF, otherwise =
CAP ON)</li>
</ul>
<h4 id="kanast-fcach-1">KANAST (FCACH, 1)</h4>
<ul>
<li><strong>contents</strong>: kana key status (0 = kaka OFF, otherwise
= kana ON)</li>
</ul>
<h4 id="kanamd-fcadh-1">KANAMD (FCADH, 1)</h4>
<ul>
<li><strong>contents</strong>: kana key arrangement status (0 = 50-sound
arrangement, otherwise = JIS arrangement)</li>
</ul>
<h4 id="flbmem-fcaeh-1">FLBMEM (FCAEH, 1)</h4>
<ul>
<li><strong>contents</strong>: 0 when loading BASIC program</li>
</ul>
<h4 id="scrmod-fcafh-1">SCRMOD (FCAFH, 1)</h4>
<ul>
<li><strong>contents</strong>: current screen mode number</li>
</ul>
<h4 id="oldscr-fcb0h-1">OLDSCR (FCB0H, 1)</h4>
<ul>
<li><strong>contents</strong>: screen mode reservation area</li>
</ul>
<h4 id="casprv-fcb1h-1">CASPRV (FCB1H, 1)</h4>
<ul>
<li><strong>contents</strong>: character reservation area used by
CAS:</li>
</ul>
<h4 id="brdatr-fcb2h-1">BRDATR (FCB2H, 1)</h4>
<ul>
<li><strong>contents</strong>: border colour code used by PAINT; set by
<code>&lt;border colour&gt;</code> in PAINT statement</li>
</ul>
<h4 id="gxpos-fcb3h-2">GXPOS (FCB3H, 2)</h4>
<ul>
<li><strong>contents</strong>: X-coordinate</li>
</ul>
<h4 id="gypos-fcb5h-2">GYPOS (FCB5H, 2)</h4>
<ul>
<li><strong>contents</strong>: Y-coordinate</li>
</ul>
<h4 id="grpacx-fcb7h-2">GRPACX (FCB7H, 2)</h4>
<ul>
<li><strong>contents</strong>: graphic accumulator (X-coordinate)</li>
</ul>
<h4 id="grpacy-fcb9h-2">GRPACY (FCB9H, 2)</h4>
<ul>
<li><strong>contents</strong>: graphic accumulator (Y-coordinate)</li>
</ul>
<h4 id="drwflg-fcbbh-1">DRWFLG (FCBBH, 1)</h4>
<ul>
<li><strong>contents</strong>: flag used in DRAW statement</li>
</ul>
<h4 id="drwscl-fcbch-1">DRWSCL (FCBCH, 1)</h4>
<ul>
<li><strong>contents</strong>: DRAW scaling factor (0 = no scaling,
otherwise = scaling)</li>
</ul>
<h4 id="drwang-fcbdh-1">DRWANG (FCBDH, 1)</h4>
<ul>
<li><strong>contents</strong>: angle at DRAW</li>
</ul>
<h4 id="runbnf-fcbeh-1">RUNBNF (FCBEH, 1)</h4>
<ul>
<li><strong>contents</strong>: flag to indicate BLOAD in progress, BSAVE
in progress, or neither</li>
</ul>
<h4 id="savent-fcbfh-2">SAVENT (FCBFH, 2)</h4>
<ul>
<li><strong>contents</strong>: starting address of BSAVE</li>
</ul>
<h4 id="exptbl-fcc1h-4">EXPTBL (FCC1H, 4)</h4>
<ul>
<li><strong>contents</strong>: flag table for expansion slot; whether
the slot is expanded</li>
</ul>
<h4 id="slttbl-fcc5h-4">SLTTBL (FCC5H, 4)</h4>
<ul>
<li><strong>contents</strong>: current slot selection status for each
expansion slot register</li>
</ul>
<h4 id="sltatr-fcc9h-64">SLTATR (FCC9H, 64)</h4>
<ul>
<li><strong>contents</strong>: reserves attribute for each slot</li>
</ul>
<h4 id="sltwrk-fd09h-128">SLTWRK (FD09H, 128)</h4>
<ul>
<li><strong>contents</strong>: allocates specific work area for each
slot</li>
</ul>
<h4 id="procnm-fd89h-16">PROCNM (FD89H, 16)</h4>
<ul>
<li><strong>contents</strong>: stores name of expanded statement (after
CALL statement) or expansion device (after OPEN); 0 indicates the
end</li>
</ul>
<h4 id="device-fd99h-1">DEVICE (FD99H, 1)</h4>
<ul>
<li><strong>contents</strong>: used to identify cartridge device</li>
</ul>
<p>
 
</p>
<h2 id="hooks">Hooks</h2>
<h4 id="h.keyi-fd9ah">H.KEYI (FD9AH)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXIO interrupt handling</li>
<li><strong>purpose</strong>: adds the interrupt operation such as
RS-232C</li>
</ul>
<h4 id="h.timi-fd9fh">H.TIMI (FD9FH)</h4>
<ul>
<li><strong>meaning</strong>: MSXIO timer interrupt handling</li>
<li><strong>purpose</strong>: adds the timer interrupt handling</li>
</ul>
<h4 id="h.chph-fda4h">H.CHPH (FDA4H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXIO CHPUT (one character
output)</li>
<li><strong>purpose</strong>: connects other console device</li>
</ul>
<h4 id="h.dspc-fda9h">H.DSPC (FDA9H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXIO DSPCSR (cursor
display)</li>
<li><strong>purpose</strong>: connects other console device</li>
</ul>
<h4 id="h.erac-fdaeh">H.ERAC (FDAEH)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXIO ERACSR (erase
cursor)</li>
<li><strong>purpose</strong>: connects other console device</li>
</ul>
<h4 id="h.dspf-fdb3h">H.DSPF (FDB3H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXIO DSPFNK (function key
display)</li>
<li><strong>purpose</strong>: connects other console device</li>
</ul>
<h4 id="h.eraf-fdb8h">H.ERAF (FDB8H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXIO ERAFNK (erase function
key)</li>
<li><strong>purpose</strong>: connects other console device</li>
</ul>
<h4 id="h.tote-fdbdh">H.TOTE (FDBDH)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXIO TOTEXT (set screen in
text mode)</li>
<li><strong>purpose</strong>: connects other console device</li>
</ul>
<h4 id="h.chge-fdc2h">H.CHGE (FDC2H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXIO CHGET (get one
character)</li>
<li><strong>purpose</strong>: connects other console device</li>
</ul>
<h4 id="h.inip-fdc7h">H.INIP (FDC7H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXIO INIPAT (character
pattern initialisation)</li>
<li><strong>purpose</strong>: uses other character set</li>
</ul>
<h4 id="h.keyc-fdcch">H.KEYC (FDCCH)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXIO KEYCOD (key code
translation)</li>
<li><strong>purpose</strong>: uses other key arrangement</li>
</ul>
<h4 id="h.kyea-fdd1h">H.KYEA (FDD1H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXIO NMI routine (Key
Easy)</li>
<li><strong>purpose</strong>: uses other key arrangement</li>
</ul>
<h4 id="h.nmi-fdd6h">H.NMI (FDD6H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXIO NMI (non-maskable
interrupt)</li>
<li><strong>purpose</strong>: handles NMI</li>
</ul>
<h4 id="h.pinl-fddbh">H.PINL (FDDBH)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXIO PINLIN (one line
input)</li>
<li><strong>purpose</strong>: uses other console input device or other
input method</li>
</ul>
<h4 id="h.qinl-fde0h">H.QINL (FDE0H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXINL QINLIN (one line input
displaying “?”)</li>
<li><strong>purpose</strong>: uses other console input device or other
input method</li>
</ul>
<h4 id="h.inli-fde5h">H.INLI (FDE5H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXINL INLIN (one line
input)</li>
<li><strong>purpose</strong>: uses other console input device or other
input method</li>
</ul>
<h4 id="h.ongo-fdeah">H.ONGO (FDEAH)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS INGOTP (ON GOTO)</li>
<li><strong>purpose</strong>: uses other interrupt handling device</li>
</ul>
<h4 id="h.dsko-fdefh">H.DSKO (FDEFH)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS DSKO$ (disk
output)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.sets-fdf4h">H.SETS (FDF4H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS SETS (set
attribute)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.name-fdf9h">H.NAME (FDF9H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS NAME (rename)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.kill-fdfeh">H.KILL (FDFEH)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS KILL (delete
file)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.ipl-fe03h">H.IPL (FE03H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS IPL (initial program
loading)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.copy-fe08h">H.COPY (FE08H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS COPY (file copy)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.cmd-fe0dh">H.CMD (FE0DH)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS CMD (expanded
command)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.dskf-fe12h">H.DSKF (FE12H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS DSKF (unusde disk
space)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.dski-fe17h">H.DSKI (FE17H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS DSKI (disk input)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.attr-fe1ch">H.ATTR (FE1CH)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS ATTR$ (attribute)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.lset-fe21h">H.LSET (FE21H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS LSET (left-padded
assignment)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.rset-fe26h">H.RSET (FE26H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS RSET (right-padded
assignment)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.fiel-fe2bh">H.FIEL (FE2BH)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS FIELD (field)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.mki-fe30h">H.MKI$ (FE30H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS MKI$ (create
integer)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.mks-fe35h">H.MKS$ (FE35H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS MKS$ (create single
precision real)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.mkd-fe3ah">H.MKD$ (FE3AH)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS MKD$ (create double
precision real)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.cvi-fe3fh">H.CVI (FE3FH)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS CVI (convert
integer)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.cvs-fe44h">H.CVS (FE44H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS CVS (convert single
precision real)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.cvd-fe49h">H.CVD (FE49H)</h4>
<ul>
<li><strong>meaning</strong>: beginning of MSXSTS CVS (convert double
precision real)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.getp-fe4eh">H.GETP (FE4EH)</h4>
<ul>
<li><strong>meaning</strong>: SPDSK GETPTR (get file pointer)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.setf-fe53h">H.SETF (FE53H)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK SETFIL (set file pointer)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.nofo-fe58h">H.NOFO (FE58H)</h4>
<ul>
<li><strong>meaning</strong>: SPDSK NOFOR (OPEN statement without
FOR)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.nulo-fe5dh">H.NULO (FE5DH)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK NULOPN (open unused file)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.ntfl-fe62h">H.NTFL (FE62H)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK NTFLO (file number is not 0)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.merg-fe67h">H.MERG (FE67H)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK MERGE (program file merge)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.save-fe6ch">H.SAVE (FE6CH)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK SAVE (save)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.bins-fe71h">H.BINS (FE71H)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK BINSAV (save in binary)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.binl-fe76h">H.BINL (FE76H)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK BINLOD (load in binary)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.file-fd7bh">H.FILE (FD7BH)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK FILES (displey filename)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.dget-fe80h">H.DGET (FE80H)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK DGET (disk GET)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.filo-fe85h">H.FILO (FE85H)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK FILOU1 (file output)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.inds-fe8ah">H.INDS (FE8AH)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK INDSKC (disk attribute input)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.rslf-fe8fh">H.RSLF (FE8FH)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK; re-select previous drive</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.savd-fe94h">H.SAVD (FE94H)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK; reserve current disk</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.loc-fe99h">H.LOC (FE99H)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK LOC function (indicate
location)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.lof-fe9eh">H.LOF (FE9EH)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK LOC function (file length)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.eof-fea3h">H.EOF (FEA3H)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK EOF function (end of file)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.fpos-fea8h">H.FPOS (FEA8H)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK FPOS function (file location)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.baku-feadh">H.BAKU (FEADH)</h4>
<ul>
<li><strong>meaning</strong>: SPCDSK BAKUPT (backup)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.pard-feb2h">H.PARD (FEB2H)</h4>
<ul>
<li><strong>meaning</strong>: SPCDEV PARDEV (get peripheral name)</li>
<li><strong>purpose</strong>: expands logical device name</li>
</ul>
<h4 id="h.node-feb7h">H.NODE (FEB7H)</h4>
<ul>
<li><strong>meaning</strong>: SPCDEV NODEVN (no device name)</li>
<li><strong>purpose</strong>: sets default device name to other
device</li>
</ul>
<h4 id="h.posd-febch">H.POSD (FEBCH)</h4>
<ul>
<li><strong>meaning</strong>: SPCDEV POSDSK</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.devn-fec1h">H.DEVN (FEC1H)</h4>
<ul>
<li><strong>meaning</strong>: SPCDEV DEVNAM (process device name)</li>
<li><strong>purpose</strong>: expands logical device name</li>
</ul>
<h4 id="h.gend-fec6h">H.GEND (FEC6H)</h4>
<ul>
<li><strong>meaning</strong>: SPCDEV GENDSP (FEC6H)</li>
<li><strong>purpose</strong>: expands logical device name</li>
</ul>
<h4 id="h.runc-fecbh">H.RUNC (FECBH)</h4>
<ul>
<li><strong>meaning</strong>: BIMISC RUNC (clear for RUN)</li>
</ul>
<h4 id="h.clear-fed0h">H.CLEAR (FED0H)</h4>
<ul>
<li><strong>meaning</strong>: BIMISC CLEARC (clear for CLEAR
statement)</li>
</ul>
<h4 id="h.lopd-fed5h">H.LOPD (FED5H)</h4>
<ul>
<li><strong>meaning</strong>: BIMISC LOPDFT (set loop and default
value)</li>
<li><strong>purpose</strong>: uses other default value for variable</li>
</ul>
<h4 id="h.stke-fedah">H.STKE (FEDAH)</h4>
<ul>
<li><strong>meaning</strong>: BIMISC STKERR (stack error)</li>
</ul>
<h4 id="h.isfl-fedfh">H.ISFL (FEDFH)</h4>
<ul>
<li><strong>meaning</strong>: BIMISC ISFLIO (file input-output or
not)</li>
</ul>
<h4 id="h.outd-fee4h">H.OUTD (FEE4H)</h4>
<ul>
<li><strong>meaning</strong>: BIO OUTDO (execute OUT)</li>
</ul>
<h4 id="h.crdo-fee9h">H.CRDO (FEE9H)</h4>
<ul>
<li><strong>meaning</strong>: BIO CRDO (execute CRLF)</li>
</ul>
<h4 id="h.dskc-feeeh">H.DSKC (FEEEH)</h4>
<ul>
<li><strong>meaning</strong>: BIO DSKCHI (input disk attribute)</li>
</ul>
<h4 id="h.dogr-fef3h">H.DOGR (FEF3H)</h4>
<ul>
<li><strong>meaning</strong>: GENGRP DOGRPH (execute graphic
operation)</li>
</ul>
<h4 id="h.prge-fef8h">H.PRGE (FEF8H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP PRGEND (program end)</li>
</ul>
<h4 id="h.errp-fefdh">H.ERRP (FEFDH)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP ERRPTR (error display)</li>
</ul>
<h4 id="h.errf-ff02h">H.ERRF (FF02H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.read-ff07h">H.READ (FF07H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP READY</li>
</ul>
<h4 id="h.main-ff0ch">H.MAIN (FF0CH)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP MAIN</li>
</ul>
<h4 id="h.dird-ff11h">H.DIRD (FF11H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP DIRDO (execute direct
statement)</li>
</ul>
<h4 id="h.fini-ff16h">H.FINI (FF16H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.fine-ff1bh">H.FINE (FF1BH)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.crun-ff20h">H.CRUN (FF20H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.crun-ff20h-1">H.CRUN (FF20H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.crus-ff25h">H.CRUS (FF25H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.isre-ff2ah">H.ISRE (FF2AH)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.ntfn-ff2fh">H.NTFN (FF2FH)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.notr-ff34h">H.NOTR (FF34H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.sngf-ff39h">H.SNGF (FF39H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.news-ff3eh">H.NEWS (FF3EH)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.gone-ff43h">H.GONE (FF43H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.chrg-ff48h">H.CHRG (FF48H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.retu-ff4dh">H.RETU (FF4DH)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.prtf-ff52h">H.PRTF (FF52H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.comp-ff57h">H.COMP (FF57H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.finp-ff5ch">H.FINP (FF5CH)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.trmn-ff61h">H.TRMN (FF61H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.frme-ff66h">H.FRME (FF66H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.ntpl-ff6bh">H.NTPL (FF6BH)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.eval-ff70h">H.EVAL (FF70H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.okno-ff75h">H.OKNO (FF75H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.fing-ff7ah">H.FING (FF7AH)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.ismi-ff7fh">H.ISMI (FF7FH)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP ISMID$ (MID$ or not)</li>
</ul>
<h4 id="h.widt-ff84h">H.WIDT (FF84H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP WIDTHS (WIDTH)</li>
</ul>
<h4 id="h.list-ff89h">H.LIST (FF89H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP LIST</li>
</ul>
<h4 id="h.bufl-ff8eh">H.BUFL (FF8EH)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP BUFLIN (buffer line)</li>
</ul>
<h4 id="h.frqi-ff93h">H.FRQI (FF93H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP FRQINT</li>
</ul>
<h4 id="h.scne-ff98h">H.SCNE (FF98H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP</li>
</ul>
<h4 id="h.fret-ff9dh">H.FRET (FF9DH)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP FRETMP</li>
</ul>
<h4 id="h.ptrg-ffa2h">H.PTRG (FFA2H)</h4>
<ul>
<li><strong>meaning</strong>: BIPTRG PTRGET (get pointer)</li>
<li><strong>purpose</strong>: uses variable other than default
value</li>
</ul>
<h4 id="h.phyd-ffa7h">H.PHYD (FFA7H)</h4>
<ul>
<li><strong>meaning</strong>: MSXIO PHYDIO (physical disk
input-output)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.form-ffach">H.FORM (FFACH)</h4>
<ul>
<li><strong>meaning</strong>: MSXIO FORMAT (format disk)</li>
<li><strong>purpose</strong>: connects disk device</li>
</ul>
<h4 id="h.erro-ffb1h">H.ERRO (FFB1H)</h4>
<ul>
<li><strong>meaning</strong>: BINTRP ERROR</li>
<li><strong>purpose</strong>: error handling for application
program</li>
</ul>
<h4 id="h.lpto-ffb6h">H.LPTO (FFB6H)</h4>
<ul>
<li><strong>meaning</strong>: MSXIO LPTOUT (printer output)</li>
<li><strong>purpose</strong>: uses printer other than default value</li>
</ul>
<h4 id="h.lpts-ffbbh">H.LPTS (FFBBH)</h4>
<ul>
<li><strong>meaning</strong>: MSXIO LPTSTT (printer status)</li>
<li><strong>purpose</strong>: uses printer other than default value</li>
</ul>
<h4 id="h.scre-ffc0h">H.SCRE (FFC0H)</h4>
<ul>
<li><strong>meaning</strong>: MSXSTS SCREEN statement entry</li>
<li><strong>purpose</strong>: expands SCREEN statement</li>
</ul>
<p>
 
</p>
<h2 id="changes-from-the-original">Changes from the original</h2>
<ul>
<li><p>Address of <a href="#flags-fb1ch-1">FLAGS</a> variable is
corrected from FB1BH to FB1CH.</p></li>
<li><p>Address of <a href="#mcllen-fb3bh-1">MCLLEN</a> variable is
corrected from FB39H to FB3BH.</p></li>
<li><p>Address of <a href="#hfiel-fe2bh">H.FIEL</a> hook is corrected
from DE2BH to FE2BH.</p></li>
</ul>
